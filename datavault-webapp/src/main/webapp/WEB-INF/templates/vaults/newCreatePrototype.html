<!DOCTYPE html><!--vaults/newCreatePrototype.html-->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/defaultlayout(nav='home')}">
<head><title>Vaults - Create</title></head>
<th:block layout:fragment="content">
   
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-uoe-low">

                    <div class="associated-image">
                        <figure class="uoe-panel-image uoe-panel-image"></figure>
                    </div>

                    <div class="panel-body">
                        <h2>
                            Create new vault
                            <small>
                            <span class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="tooltip"
                                  title="You can make multiple deposits into a vault. Each deposit may contain multiple files and folders. You no longer need to create a Pure record before creating your Vault.">
                            </span>
                            </small>
                        </h2>

                        <br/>

                        <!-- MultiStep Form -->
                        <div class="container">
                            <th:block th:if="${errors != null}">
                            <div id="create-error" class="alert alert-danger" role="alert">
                                Your request contains the following errors<br/>
                                <th:block th:each="error: ${errors}">
                                    [[${error}]]<br/>
                                </th:block>
                            </div>
                            </th:block>
                            <div class="row justify-content-center mt-0">
                                <div class="col-10 text-center p-0 mt-3 mb-2">
                                    <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
                                        <div class="row">
                                            <div class="col-md-12 mx-0">
                                                <form id="vault-creation-form" th:object="${vault}" class="form" role="form" th:action="@{/vaults/stepCreate}" method="post" novalidate="novalidate" _lpchecked="1">
                                                    <div th:replace="~{vaults/progressFieldset.html}" />
                                                    <!-- fieldsets -->
                                                    <div th:replace="~{vaults/affirmationFieldset.html}" />
                                                    <div th:replace="~{vaults/billingFieldset.html}"/>
                                                    <div th:replace="~{vaults/infoFieldset.html}"/>
                                                    <div th:replace="~{vaults/usersFieldset.html}"/>
                                                    <div th:replace="~{vaults/summaryFieldset.html}"/>
                                                    <input type="hidden" id="submitAction" name="action" value="submit" />
                                                    <input type="hidden" id="pendingID" th:field="*{pendingID}" />
                                                    <input type="hidden" id="loggedInAs" th:field="*{loggedInAs}" />
                                                    <input type="hidden" id="confirmed" th:field="*{confirmed}" />
                                                    <input type="hidden" th:name="${_csrf?.parameterName ?: ''}" th:value="${_csrf?.token ?: ''}" />
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
   <!-- Custom javascript -->
   <!-- import date-validation-utils.j first -->
   <script th:src="@{/resources/application/js/date-validation-utils.js}"></script>
   <script th:src="@{/resources/application/js/new-create-prototype.js}"></script>

</div>
</th:block>
</html>
