<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">

    <context:property-placeholder location="file:///${user.home}/datavault-worker.properties" ignore-resource-not-found="true" ignore-unresolvable="true"/>
    <context:property-placeholder location="classpath:datavault-worker.properties"/>

    <bean id="workerManager" class="org.datavaultplatform.worker.WorkerManager">
        <property name="numberOfWorkers" value="${numberOfWorkers}"/>
    </bean>

    <bean id="receiver" class="org.datavaultplatform.worker.queue.Receiver">
        <property name="queueServer" value="${queueServer}"/>
        <property name="queueName" value="${queueName}"/>
        <property name="queueUser" value="${queueUser}"/>
        <property name="queuePassword" value="${queuePassword}"/>
        <property name="archiveDir" value="${archiveDir}"/>
        <property name="tempDir" value="${tempDir}"/>
        <property name="metaDir" value="${metaDir}"/>
    </bean>

    <bean id="eventSender" class="org.datavaultplatform.worker.queue.EventSender">
        <property name="queueServer" value="${queueServer}"/>
        <property name="eventQueueName" value="${eventQueueName}"/>
        <property name="queueUser" value="${queueUser}"/>
        <property name="queuePassword" value="${queuePassword}"/>
    </bean>

</beans>